{% import "UcsEventFlowAnalyser:Tools:macros.html.twig" as macros %}
{% extends "UcsEventFlowAnalyser::layout.html.twig" %}

{% block title "UCS Event Flow Analyser: All Events" %}

{% macro display_events(events, visibility, name, start, end) %}
    <div class="span6">
        <ul class="unstyled">
            {% for event in events|slice(start,end) %}
                <li>
                    <a href="{{ asset('/events/event/' ~ visibility ~ '/' ~ name ~ '/' ~ event.type) }}">
                        <i class="icon-chevron-right"></i> {{ event.type|slice(14)|e }}
                    </a>
                </li>
            {% endfor %}
        </ul>
    </div>
{% endmacro display_events %}

{% block article %}
    <article>
        {{ _self.display_events(events, visibility, name, 0,(events|length)/2) }}
        {% if ((events|length) >= 2) %}
            {{ _self.display_events(events, visibility, name, (events|length)/2, events|length) }}
        {% endif %}
    </article>
{% endblock %}
